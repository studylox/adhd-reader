{"ast":null,"code":"var _jsxFileName = \"D:\\\\adhd-read-helper\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport * as pdfjsLib from 'pdfjs-dist';\nimport './styles/Reader.css';\n\n// 设置 PDF.js worker\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\npdfjsLib.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjsLib.version}/pdf.worker.min.js`;\nfunction App() {\n  _s();\n  const [pdf, setPdf] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [scale, setScale] = useState(1.0);\n  const [error, setError] = useState(null);\n  const fileInputRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [highlightColor, setHighlightColor] = useState('#ff0000');\n\n  // 初始化PDF.js\n  useEffect(() => {\n    pdfjsLib.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjsLib.version}/pdf.worker.min.js`;\n    document.documentElement.style.setProperty('--highlight-color', highlightColor);\n  }, [highlightColor]);\n\n  // 处理文件选择\n  const handleFileSelect = async event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    setError(null);\n    try {\n      const arrayBuffer = await file.arrayBuffer();\n      const pdf = await pdfjsLib.getDocument(arrayBuffer).promise;\n      setPdf(pdf);\n      setTotalPages(pdf.numPages);\n      setCurrentPage(1);\n      await renderPage(1);\n    } catch (err) {\n      setError('PDF加载失败：' + err.message);\n      console.error('PDF加载错误：', err);\n    }\n  };\n\n  // 渲染PDF页面\n  const renderPage = async pageNumber => {\n    if (!pdf) return;\n    try {\n      const page = await pdf.getPage(pageNumber);\n      const viewport = page.getViewport({\n        scale\n      });\n      const canvas = canvasRef.current;\n      const context = canvas.getContext('2d');\n      canvas.height = viewport.height;\n      canvas.width = viewport.width;\n      const renderContext = {\n        canvasContext: context,\n        viewport: viewport\n      };\n      await page.render(renderContext).promise;\n\n      // 获取文本内容\n      const textContent = await page.getTextContent();\n\n      // 清除旧的文本层\n      const oldTextLayer = document.querySelector('.text-layer');\n      if (oldTextLayer) {\n        oldTextLayer.remove();\n      }\n\n      // 创建新的文本层容器\n      const textLayerDiv = document.createElement('div');\n      textLayerDiv.className = 'text-layer';\n      textLayerDiv.style.cssText = `\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        overflow: hidden;\n        opacity: 1;\n        line-height: 1.0;\n        user-select: text;\n        pointer-events: auto;\n      `;\n\n      // 为每个文本项创建span元素\n      textContent.items.forEach(item => {\n        const tx = pdfjsLib.Util.transform(viewport.transform, item.transform);\n        const span = document.createElement('span');\n        span.textContent = item.str;\n\n        // 设置span的样式和位置\n        span.style.cssText = `\n          position: absolute;\n          left: ${tx[4]}px;\n          top: ${tx[5]}px;\n          font-size: ${Math.sqrt(tx[0] * tx[0] + tx[1] * tx[1])}px;\n          transform-origin: 0% 0%;\n          transform: scaleX(${tx[0]});\n          white-space: pre;\n          cursor: text;\n          color: transparent;\n        `;\n        textLayerDiv.appendChild(span);\n      });\n\n      // 添加文本层到容器\n      const container = document.querySelector('.pdf-container');\n      if (container) {\n        container.style.position = 'relative';\n        container.appendChild(textLayerDiv);\n\n        // 添加文本选择事件监听器\n        textLayerDiv.addEventListener('mouseup', () => {\n          const selection = window.getSelection();\n          if (selection.toString().length > 0) {\n            const range = selection.getRangeAt(0);\n            const span = document.createElement('span');\n            span.className = 'highlight';\n            span.style.backgroundColor = document.documentElement.style.getPropertyValue('--highlight-color') || '#ff0000';\n            try {\n              range.surroundContents(span);\n            } catch (err) {\n              console.error('创建高亮失败:', err);\n            }\n          }\n        });\n      }\n    } catch (err) {\n      setError('页面渲染失败：' + err.message);\n      console.error('页面渲染错误：', err);\n    }\n  };\n\n  // 翻页\n  const changePage = async delta => {\n    const newPage = currentPage + delta;\n    if (newPage >= 1 && newPage <= totalPages) {\n      setCurrentPage(newPage);\n      await renderPage(newPage);\n    }\n  };\n\n  // 缩放控制\n  const handleZoom = async delta => {\n    const newScale = scale + delta;\n    if (newScale >= 0.5 && newScale <= 2.0) {\n      setScale(newScale);\n      await renderPage(currentPage);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"ADHD \\u9605\\u8BFB\\u52A9\\u624B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".pdf\",\n          onChange: handleFileSelect,\n          style: {\n            display: 'none'\n          },\n          ref: fileInputRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _fileInputRef$current;\n            return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n          },\n          children: \"\\u9009\\u62E9PDF\\u6587\\u4EF6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"color\",\n          value: highlightColor,\n          onChange: e => {\n            setHighlightColor(e.target.value);\n            document.documentElement.style.setProperty('--highlight-color', e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pdf-container\",\n        children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleZoom(-0.1),\n          disabled: scale <= 0.5,\n          children: \"\\u7F29\\u5C0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [Math.round(scale * 100), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleZoom(0.1),\n          disabled: scale >= 2.0,\n          children: \"\\u653E\\u5927\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => changePage(-1),\n          disabled: currentPage <= 1,\n          children: \"\\u4E0A\\u4E00\\u9875\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u7B2C \", currentPage, \" / \", totalPages, \" \\u9875\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => changePage(1),\n          disabled: currentPage >= totalPages,\n          children: \"\\u4E0B\\u4E00\\u9875\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"TqoowbWBucXlmuc31LZ0rxr/8hs=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","pdfjsLib","jsxDEV","_jsxDEV","GlobalWorkerOptions","workerSrc","version","App","_s","pdf","setPdf","currentPage","setCurrentPage","totalPages","setTotalPages","scale","setScale","error","setError","fileInputRef","canvasRef","highlightColor","setHighlightColor","document","documentElement","style","setProperty","handleFileSelect","event","file","target","files","arrayBuffer","getDocument","promise","numPages","renderPage","err","message","console","pageNumber","page","getPage","viewport","getViewport","canvas","current","context","getContext","height","width","renderContext","canvasContext","render","textContent","getTextContent","oldTextLayer","querySelector","remove","textLayerDiv","createElement","className","cssText","items","forEach","item","tx","Util","transform","span","str","Math","sqrt","appendChild","container","position","addEventListener","selection","window","getSelection","toString","length","range","getRangeAt","backgroundColor","getPropertyValue","surroundContents","changePage","delta","newPage","handleZoom","newScale","children","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","display","ref","onClick","_fileInputRef$current","click","value","e","disabled","round","_c","$RefreshReg$"],"sources":["D:/adhd-read-helper/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport * as pdfjsLib from 'pdfjs-dist';\nimport './styles/Reader.css';\n\n// 设置 PDF.js worker\npdfjsLib.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjsLib.version}/pdf.worker.min.js`;\n\nfunction App() {\n  const [pdf, setPdf] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [scale, setScale] = useState(1.0);\n  const [error, setError] = useState(null);\n  const fileInputRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [highlightColor, setHighlightColor] = useState('#ff0000');\n\n  // 初始化PDF.js\n  useEffect(() => {\n    pdfjsLib.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjsLib.version}/pdf.worker.min.js`;\n    document.documentElement.style.setProperty('--highlight-color', highlightColor);\n  }, [highlightColor]);\n\n  // 处理文件选择\n  const handleFileSelect = async (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    setError(null);\n\n    try {\n      const arrayBuffer = await file.arrayBuffer();\n      const pdf = await pdfjsLib.getDocument(arrayBuffer).promise;\n      setPdf(pdf);\n      setTotalPages(pdf.numPages);\n      setCurrentPage(1);\n      await renderPage(1);\n    } catch (err) {\n      setError('PDF加载失败：' + err.message);\n      console.error('PDF加载错误：', err);\n    }\n  };\n\n  // 渲染PDF页面\n  const renderPage = async (pageNumber) => {\n    if (!pdf) return;\n\n    try {\n      const page = await pdf.getPage(pageNumber);\n      const viewport = page.getViewport({ scale });\n      const canvas = canvasRef.current;\n      const context = canvas.getContext('2d');\n\n      canvas.height = viewport.height;\n      canvas.width = viewport.width;\n\n      const renderContext = {\n        canvasContext: context,\n        viewport: viewport,\n      };\n\n      await page.render(renderContext).promise;\n\n      // 获取文本内容\n      const textContent = await page.getTextContent();\n      \n      // 清除旧的文本层\n      const oldTextLayer = document.querySelector('.text-layer');\n      if (oldTextLayer) {\n        oldTextLayer.remove();\n      }\n\n      // 创建新的文本层容器\n      const textLayerDiv = document.createElement('div');\n      textLayerDiv.className = 'text-layer';\n      textLayerDiv.style.cssText = `\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        overflow: hidden;\n        opacity: 1;\n        line-height: 1.0;\n        user-select: text;\n        pointer-events: auto;\n      `;\n      \n      // 为每个文本项创建span元素\n      textContent.items.forEach((item) => {\n        const tx = pdfjsLib.Util.transform(\n          viewport.transform,\n          item.transform\n        );\n\n        const span = document.createElement('span');\n        span.textContent = item.str;\n        \n        // 设置span的样式和位置\n        span.style.cssText = `\n          position: absolute;\n          left: ${tx[4]}px;\n          top: ${tx[5]}px;\n          font-size: ${Math.sqrt(tx[0] * tx[0] + tx[1] * tx[1])}px;\n          transform-origin: 0% 0%;\n          transform: scaleX(${tx[0]});\n          white-space: pre;\n          cursor: text;\n          color: transparent;\n        `;\n\n        textLayerDiv.appendChild(span);\n      });\n\n      // 添加文本层到容器\n      const container = document.querySelector('.pdf-container');\n      if (container) {\n        container.style.position = 'relative';\n        container.appendChild(textLayerDiv);\n\n        // 添加文本选择事件监听器\n        textLayerDiv.addEventListener('mouseup', () => {\n          const selection = window.getSelection();\n          if (selection.toString().length > 0) {\n            const range = selection.getRangeAt(0);\n            const span = document.createElement('span');\n            span.className = 'highlight';\n            span.style.backgroundColor = document.documentElement.style.getPropertyValue('--highlight-color') || '#ff0000';\n            \n            try {\n              range.surroundContents(span);\n            } catch (err) {\n              console.error('创建高亮失败:', err);\n            }\n          }\n        });\n      }\n\n    } catch (err) {\n      setError('页面渲染失败：' + err.message);\n      console.error('页面渲染错误：', err);\n    }\n  };\n\n  // 翻页\n  const changePage = async (delta) => {\n    const newPage = currentPage + delta;\n    if (newPage >= 1 && newPage <= totalPages) {\n      setCurrentPage(newPage);\n      await renderPage(newPage);\n    }\n  };\n\n  // 缩放控制\n  const handleZoom = async (delta) => {\n    const newScale = scale + delta;\n    if (newScale >= 0.5 && newScale <= 2.0) {\n      setScale(newScale);\n      await renderPage(currentPage);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"header\">\n        <h1>ADHD 阅读助手</h1>\n        <div className=\"controls\">\n          <input\n            type=\"file\"\n            accept=\".pdf\"\n            onChange={handleFileSelect}\n            style={{ display: 'none' }}\n            ref={fileInputRef}\n          />\n          <button onClick={() => fileInputRef.current?.click()}>\n            选择PDF文件\n          </button>\n          <input\n            type=\"color\"\n            value={highlightColor}\n            onChange={(e) => {\n              setHighlightColor(e.target.value);\n              document.documentElement.style.setProperty('--highlight-color', e.target.value);\n            }}\n          />\n        </div>\n      </header>\n\n      <main className=\"main-content\">\n        <div className=\"pdf-container\">\n          <canvas ref={canvasRef}></canvas>\n        </div>\n        \n        {error && <div className=\"error\">{error}</div>}\n        \n        <div className=\"page-controls\">\n          <button \n            onClick={() => handleZoom(-0.1)}\n            disabled={scale <= 0.5}\n          >\n            缩小\n          </button>\n          <span>{Math.round(scale * 100)}%</span>\n          <button \n            onClick={() => handleZoom(0.1)}\n            disabled={scale >= 2.0}\n          >\n            放大\n          </button>\n          <button\n            onClick={() => changePage(-1)}\n            disabled={currentPage <= 1}\n          >\n            上一页\n          </button>\n          <span>第 {currentPage} / {totalPages} 页</span>\n          <button\n            onClick={() => changePage(1)}\n            disabled={currentPage >= totalPages}\n          >\n            下一页\n          </button>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}